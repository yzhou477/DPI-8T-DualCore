# RISC-V RV32I 指令分析（冒泡排序代码）

## 1. 内存访问指令

| 指令 | 格式 | 说明 |
|------|------|------|
| `lw` | `lw rd, offset(rs1)` | 从内存加载一个字(4字节)到寄存器。rd是目标寄存器，rs1是基址寄存器，offset是偏移量 |
| `sw` | `sw rs2, offset(rs1)` | 存储一个字(4字节)到内存。rs2是源寄存器，rs1是基址寄存器，offset是偏移量 |
| `lla` | `lla rd, symbol` | 伪指令，加载标签地址到寄存器 |

## 2. 算术指令

| 指令 | 格式 | 说明 |
|------|------|------|
| `addi` | `addi rd, rs1, imm` | 将rs1与立即数相加，结果存入rd |
| `add` | `add rd, rs1, rs2` | 将rs1与rs2相加，结果存入rd |
| `sub` | `sub rd, rs1, rs2` | 从rs1中减去rs2，结果存入rd |
| `slli` | `slli rd, rs1, imm` | 将rs1逻辑左移imm位，结果存入rd（相当于乘以2^imm）|

## 3. 分支和跳转指令

| 指令 | 格式 | 说明 |
|------|------|------|
| `j` | `j offset` | 无条件跳转到PC相对偏移处，是伪指令（转换为jal指令） |
| `jr` | `jr rs1` | 无条件跳转到rs1指定的地址，是伪指令（转换为jalr指令） |
| `ble` | `ble rs1, rs2, offset` | 如果rs1小于等于rs2，则跳转（伪指令，转换为bge rs2, rs1, offset） |
| `blt` | `blt rs1, rs2, offset` | 如果rs1小于rs2，则跳转 |

## 4. 寄存器置位指令

| 指令 | 格式 | 说明 |
|------|------|------|
| `li` | `li rd, imm` | 加载立即数到寄存器，是伪指令 |

## 5. 特殊指令

| 指令 | 格式 | 说明 |
|------|------|------|
| `nop` | `nop` | 空操作，不做任何事情（实际是addi x0, x0, 0的别名） |

## RISC-V 寄存器约定

| 寄存器 | ABI名称 | 描述 |
|--------|---------|------|
| x0 | zero | 硬连线为0的寄存器 |
| x1 | ra | 返回地址 |
| x2 | sp | 栈指针 |
| x8 | s0/fp | 保存寄存器/帧指针 |
| x10-x11 | a0-a1 | 函数参数/返回值 |
| x18-x27 | s2-s11 | 保存寄存器 |
| x5-x7, x28-x31 | t0-t6 | 临时寄存器 |

## 寻址模式

在RISC-V中，内存访问指令（如lw, sw）使用基址+偏移的寻址模式：`offset(rs1)`，其中rs1是基址寄存器，offset是12位有符号偏移量。
